# üí∞ Personal Finance AI  
–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤: ML-–º–æ–¥–µ–ª–∏ + FastAPI API, –≥–æ—Ç–æ–≤—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **ML —Å–ª–æ–π**: –ø—Ä–∞–≤–∏–ª–∞ + –æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –ø—Ä–æ–≥–Ω–æ–∑–∞ –±–∞–ª–∞–Ω—Å–∞ (`ml/`, `backend_models/`).
- **Backend API**: FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (`main.py`) —Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏ `/classify`, `/insights`, `/forecast`, `/health`.
- **Frontend**: –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–º–µ—â—ë–Ω –æ—Ç–¥–µ–ª—å–Ω–æ (CodeSandbox, –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –¥–æ–º–µ–Ω) –∏ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ API. –í `main.py` –≤–∫–ª—é—á—ë–Ω CORS –¥–ª—è `localhost`, `*.csb.app` –∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `FRONTEND_ORIGINS`.

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `main.py` ‚Äî FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —Å—Ö–µ–º—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤.
- `ml/` ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Å–∞–π—Ç–æ–≤ –∏ –ø—Ä–æ–≥–Ω–æ–∑–∞.
- `backend_models/` ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –º–æ–¥–µ–ª–∏.
- `data/` ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ; `data/demo_transactions.json` ‚Äî –¥–µ–º–æ-–Ω–∞–±–æ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.
- `requirements.txt` ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python.
- `Dockerfile`, `docker-compose.yml`, `finance-ai.service` ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä unit-—Ñ–∞–π–ª–∞ systemd.

## üîå –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã
### `GET /health`
–ü—Ä–æ—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
```json
{ "status": "ok" }
```

### `POST /classify`
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é.
```json
{
  "ref": "Supermarket purchase",
  "withdraw": 1200,
  "deposit": 0
}
```
–û—Ç–≤–µ—Ç:
```json
{
  "source": "rules",
  "category_internal": "food",
  "category_human": "–ï–¥–∞",
  "confidence": 0.91,
  "confidence_level": "high",
  "needs_user_review": false
}
```

### `POST /insights`
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±—é–¥–∂–µ—Ç–∞. –î–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ ISO-—Ñ–æ—Ä–º–∞—Ç–µ (`YYYY-MM-DD`), —Å—É–º–º—ã ‚Äî –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ.
```json
{
  "transactions": [
    {"date": "2024-12-01", "ref": "Groceries", "withdraw": 3000, "deposit": 0},
    {"date": "2024-12-02", "ref": "Salary", "withdraw": 0, "deposit": 90000}
  ],
  "monthly_budget": 60000,
  "current_balance": 150000,
  "avg_daily_expense": 2500
}
```
–û—Ç–≤–µ—Ç (–ø—Ä–∏–º–µ—Ä):
```json
{
  "monthly_expense": 3000,
  "monthly_budget": 60000,
  "budget_left": 57000,
  "budget_status": "on_track",
  "budget_used_percent": 5,
  "current_balance": 150000,
  "avg_daily_expense": 2500,
  "recommended_cushion": 75000,
  "safety_pillow_percent": 200,
  "safety_pillow_status": "ok",
  "categories": {"food": 3000},
  "top_categories": [
    {"category": "food", "amount": 3000, "share": 1}
  ],
  "recommendations": ["–£—Ä–æ–≤–µ–Ω—å —Ç—Ä–∞—Ç –≤ –Ω–æ—Ä–º–µ"]
}
```

### `POST /forecast`
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —á–∏—Å–ª–æ –¥–Ω–µ–π (>0) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –±–∞–ª–∞–Ω—Å–∞ –ø–æ –¥–Ω—è–º.
```json
{ "days": 7 }
```
–û—Ç–≤–µ—Ç:
```json
[
  {"day": 1, "balance": 152300.0},
  {"day": 2, "balance": 153100.5}
]
```

## ‚ñ∂Ô∏è –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
1. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –≤ Docker) –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–æ–¥–µ–ª–∏ –∏–∑ `backend_models/` –¥–æ—Å—Ç—É–ø–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ API (—Å–º. –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∏–∂–µ).
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ –≤—ã—à–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `data/demo_transactions.json` –¥–ª—è –¥–µ–º–æ.
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, CodeSandbox) –∫ URL API `http://localhost:8000` –∏–ª–∏ –∫ –≤–∞—à–µ–º—É —Ö–æ—Å—Ç—É; —É–∫–∞–∂–∏—Ç–µ –¥–æ–º–µ–Ω –≤ `FRONTEND_ORIGINS`, –µ—Å–ª–∏ –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è.

## üöÄ –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ –±–µ–∑ Docker
```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è:
```bash
curl http://localhost:8000/health
```

## üê≥ –ó–∞–ø—É—Å–∫ –≤ Docker
–°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker build -t finance-ai .
docker run --rm -p 8000:8000 finance-ai
```

### Docker Compose
```bash
docker compose up --build -d
```
–ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–∞: `8000:8000`. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–º–æ–Ω—Ç–∏—Ä—É–π—Ç–µ `backend_models/` –∏ `data/` –∫–∞–∫ volume (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `docker-compose.yml`).

## üåê –§—Ä–æ–Ω—Ç–µ–Ω–¥
–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ—Ç —Ñ—Ä–æ–Ω—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π –≤–Ω–µ—à–Ω–∏–π –ø—Ä–æ–µ–∫—Ç (CodeSandbox, –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π) –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞. –û—Å–Ω–æ–≤–Ω—ã–µ –≤—ã–∑–æ–≤—ã:
- `/classify` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å.
- `/insights` ‚Äî –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±—é–¥–∂–µ—Ç–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.
- `/forecast` ‚Äî –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ –±–∞–ª–∞–Ω—Å–∞.

## üß™ –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
`data/demo_transactions.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–±–æ–ª—å—à–æ–π –Ω–∞–±–æ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ UI.